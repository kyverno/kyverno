apiVersion: policy.nirmata.io/v1alpha1
kind: Policy
metadata:
  name: check-probe-intervals
spec:
  rules:
  - name: check-probe-intervals
    message: "livenessProbe must be > 10s"
    resource:
      kind: Deployment
    overlay:
      containers:
        # In this case every object in containers list will be checked for pattern
        - name: "*"
          livenessProbe:
            periodSeconds: ">10"
  - resource:
      kind: Deployment
    message: "readinessProbe must be > 10s"    
    overlay:
      containers:
        # In this case every object in containers list will be checked for pattern
        - name: "*"
          readinessProbe:
            periodSeconds: ">10"
