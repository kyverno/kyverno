apiVersion : kyverno.io/v1alpha1
kind: Policy
metadata:
  name: check-probe-intervals
spec:
  rules:
  - name: check-probe-intervals
    resource:
      kinds: 
      - Deployment
    validate:
      message: "livenessProbe must be > 10s"
      pattern:
        containers:
          # In this case every object in containers list will be checked for pattern
          - name: "*"
            livenessProbe:
              periodSeconds: ">10"
  - resource:
      kinds: 
      - Deployment
    name: check-readinessprobe-intervals
    validate:
      pattern:
        message: "readinessProbe must be > 10s"    
        containers:
          # In this case every object in containers list will be checked for pattern
          - name: "*"
            readinessProbe:
              periodSeconds: ">10"
