apiVersion: policies.kyverno.io/v1alpha1
kind: ValidatingPolicy
metadata:
  name: restrict-dev-ingressclass
spec:
  validationActions: [Deny]
  matchConstraints:
    resourceRules:
      - apiGroups: ["networking.k8s.io"]
        apiVersions: ["v1"]
        resources: ["ingresses"]
  validations:
    - expression: object.spec.ingressClassName == "dev-ingressclass"
      message: "Must be dev-ingressclass"
