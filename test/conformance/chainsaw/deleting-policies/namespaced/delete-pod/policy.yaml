apiVersion: policies.kyverno.io/v1alpha1
kind: NamespacedDeletingPolicy
metadata:
  name: deleting-pod
  namespace: ndpol-test
spec:
  conditions:
  - expression: object.metadata.namespace == "ndpol-test"
    name: check-pod-ns
  - expression: object.metadata.name == "example"
    name: pod-name
  matchConstraints:
    resourceRules:
    - apiGroups:
      - ""
      apiVersions:
      - v1
      resources:
      - pods
  # example schedule: every minute
  schedule: '*/1 * * * *'

