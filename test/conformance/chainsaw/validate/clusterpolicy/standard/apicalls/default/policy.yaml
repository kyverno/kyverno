apiVersion: kyverno.io/v1
kind: ClusterPolicy
metadata:
  name: default
spec:
  validationFailureAction: Enforce
  rules:
  - name: default-api-call
    match:
      any:
        - resources:
            kinds:
              - Pod
    context:
    - name: varName
      apiCall:
        urlPath: "/api/v1/namespaces/default/invalid"
        jmesPath: metadata.name
        default: default
    validate:
      deny:
        conditions:
          any:
          - key: "{{ target.metadata.name }}"
            operator: NotEquals
            value: "{{ varName }}"